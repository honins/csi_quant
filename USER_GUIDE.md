# ğŸ“Š ä¸­è¯500æŒ‡æ•°ç›¸å¯¹ä½ç‚¹è¯†åˆ«ç³»ç»Ÿ - å®Œæ•´ä½¿ç”¨æŒ‡å—

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

ä¸­è¯500æŒ‡æ•°ç›¸å¯¹ä½ç‚¹è¯†åˆ«ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºAIæœºå™¨å­¦ä¹ çš„é‡åŒ–äº¤æ˜“è¾…åŠ©å·¥å…·ï¼Œä¸“é—¨ç”¨äºè¯†åˆ«ä¸­è¯500æŒ‡æ•°çš„ç›¸å¯¹ä½ç‚¹ï¼Œä¸ºæŠ•èµ„å†³ç­–æä¾›æ•°æ®æ”¯æŒã€‚

### ğŸŒŸ ä¸»è¦åŠŸèƒ½
- ğŸ¤– **AIæ¨¡å‹è®­ç»ƒ**: åŸºäº6å¹´å†å²æ•°æ®è®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹
- ğŸ“ˆ **ç›¸å¯¹ä½ç‚¹é¢„æµ‹**: é¢„æµ‹æŒ‡å®šæ—¥æœŸæ˜¯å¦ä¸ºç›¸å¯¹ä½ç‚¹
- ğŸ“Š **ç­–ç•¥å›æµ‹**: éªŒè¯ç­–ç•¥åœ¨å†å²æ•°æ®ä¸Šçš„è¡¨ç°
- ğŸ”§ **å‚æ•°ä¼˜åŒ–**: è‡ªåŠ¨ä¼˜åŒ–ç­–ç•¥å‚æ•°
- ğŸ¤– **è‡ªåŠ¨äº¤æ˜“æœºå™¨äºº**: å®šæ—¶æ‰§è¡Œé¢„æµ‹å’Œé€šçŸ¥
- ğŸ“‹ **è¯¦ç»†æŠ¥å‘Š**: ç”Ÿæˆé¢„æµ‹æŠ¥å‘Šå’Œå¯è§†åŒ–å›¾è¡¨

### ğŸ¨ æŠ€æœ¯ç‰¹ç‚¹
- **ç›´æ¥ç½®ä¿¡åº¦ä½¿ç”¨**: å®Œæ•´ä¿ç•™AIæ¨¡å‹åŸå§‹åˆ¤æ–­ï¼Œé›¶ä¿¡æ¯æŸå¤±
- **å¢é‡å­¦ä¹ **: æ”¯æŒæ¨¡å‹çš„å¢é‡æ›´æ–°
- **ä¸¥æ ¼æ•°æ®åˆ†å‰²**: é˜²æ­¢æ•°æ®æ³„éœ²ï¼Œç¡®ä¿ç»“æœå¯é 
- **å¤šé…ç½®æ”¯æŒ**: çµæ´»çš„é…ç½®ç®¡ç†
- **å…¨è‡ªåŠ¨åŒ–**: ä»æ•°æ®è·å–åˆ°é¢„æµ‹çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ”§ ç¯å¢ƒå‡†å¤‡

**æ£€æŸ¥Pythonç‰ˆæœ¬** (éœ€è¦Python 3.8+):
```bash
python --version
```

**æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**:
```bash
# Windows
venv\Scripts\activate

# Linux/Mac
source venv/bin/activate
```

### âš¡ é¦–æ¬¡è¿è¡Œ

**æ­¥éª¤1: åŸºç¡€æµ‹è¯•**
```bash
python run.py b
```
éªŒè¯ç³»ç»ŸåŸºæœ¬åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚

**æ­¥éª¤2: å®Œå…¨AIè®­ç»ƒ**
```bash
python run.py ai -m full
```
ä½¿ç”¨6å¹´å†å²æ•°æ®è®­ç»ƒAIæ¨¡å‹ï¼ˆé¢„è®¡6-12åˆ†é’Ÿï¼‰ã€‚

**æ­¥éª¤3: æµ‹è¯•é¢„æµ‹**
```bash
python run.py s 2024-06-15
```
æµ‹è¯•å•æ—¥é¢„æµ‹åŠŸèƒ½ã€‚

### âœ… éªŒè¯å®‰è£…

å¦‚æœæ‰€æœ‰å‘½ä»¤éƒ½æˆåŠŸæ‰§è¡Œï¼Œç³»ç»Ÿå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼

---

## ğŸ“‹ å®Œæ•´å‘½ä»¤å‚è€ƒ

### ğŸ¯ å‘½ä»¤æ ¼å¼
```bash
python run.py <command> [options] [arguments]
```

### ğŸ“š å‘½ä»¤åˆ—è¡¨

#### ğŸ§ª æµ‹è¯•å‘½ä»¤
```bash
# åŸºç¡€åŠŸèƒ½æµ‹è¯•
python run.py b

# AIåŠŸèƒ½æµ‹è¯•  
python run.py a

# å•å…ƒæµ‹è¯•
python run.py t

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python run.py all
```

#### ğŸ¤– AIè®­ç»ƒå‘½ä»¤
```bash
# å®Œå…¨é‡è®­ç»ƒ (æ¨èï¼Œä½¿ç”¨6å¹´æ•°æ®)
python run.py ai -m full

# å¢é‡è®­ç»ƒ (åŸºäºå·²æœ‰æ¨¡å‹æ›´æ–°)
python run.py ai -m incremental

# æ¼”ç¤ºé¢„æµ‹ (åŠ è½½æ¨¡å‹è¿›è¡Œé¢„æµ‹æ¼”ç¤º)
python run.py ai -m demo

# å®Œæ•´ä¼˜åŒ– (å‚æ•°ä¼˜åŒ– + æ¨¡å‹è®­ç»ƒ)
python run.py ai
python run.py ai -m optimize
```

#### ğŸ“ˆ é¢„æµ‹å’Œå›æµ‹å‘½ä»¤
```bash
# å•æ—¥é¢„æµ‹
python run.py s 2024-12-01
python run.py s 2024-06-15

# å†å²å›æµ‹
python run.py r 2023-01-01 2023-12-31
python run.py r 2024-01-01 2024-06-30
```

#### ğŸ”§ ç­–ç•¥ä¼˜åŒ–å‘½ä»¤
```bash
# ç­–ç•¥å‚æ•°ä¼˜åŒ– (é»˜è®¤10æ¬¡è¿­ä»£)
python run.py opt

# æŒ‡å®šè¿­ä»£æ¬¡æ•°
python run.py opt -i 20
python run.py opt --iter 50
```

#### ğŸ¤– å¢å¼ºç‰ˆäº¤æ˜“æœºå™¨äººå‘½ä»¤
```bash
# å•æ¬¡è¿è¡Œ
python run.py bot -m run

# å®šæ—¶æ‰§è¡Œ (æŒç»­è¿è¡Œ)
python run.py bot -m schedule

# å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ (æ¨èç”Ÿäº§ç¯å¢ƒ)
python run.py bot -m daemon --daemon

# æŸ¥çœ‹çŠ¶æ€
python run.py bot -m status

# æ‰§è¡Œæ•°æ®å¤‡ä»½
python run.py bot -m backup

# ç³»ç»Ÿå¥åº·æ£€æŸ¥
python run.py bot -m health

# ä»å¤‡ä»½æ¢å¤æ•°æ®
python run.py bot -m restore --backup-timestamp 20240101_120000
```

### âš™ï¸ é€šç”¨é€‰é¡¹
```bash
-v              # è¯¦ç»†è¾“å‡ºæ¨¡å¼
-m <æ¨¡å¼>       # æŒ‡å®šè¿è¡Œæ¨¡å¼
-i <æ•°å­—>       # è¿­ä»£æ¬¡æ•°
--no-timer      # ç¦ç”¨æ€§èƒ½è®¡æ—¶å™¨
-h, --help      # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

---

## âš™ï¸ é…ç½®æ–‡ä»¶è¯¦è§£

### ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®
- `config/config.yaml` - ä¸»é…ç½®æ–‡ä»¶
- `config/config_core.yaml` - æ ¸å¿ƒé…ç½®æ–‡ä»¶
- `config/optimization.yaml` - ä¼˜åŒ–é…ç½®æ–‡ä»¶

### ğŸ”§ ä¸»è¦é…ç½®é¡¹

#### AIæ¨¡å‹é…ç½®
```yaml
ai:
  enable: true
  model_type: machine_learning
  
  # è®­ç»ƒæ•°æ®æ—¶é—´èŒƒå›´
  training_data:
    full_train_years: 6      # å®Œå…¨è®­ç»ƒä½¿ç”¨6å¹´æ•°æ®
    optimize_years: 6        # ä¼˜åŒ–æ¨¡å¼ä½¿ç”¨6å¹´æ•°æ®
    incremental_years: 1     # å¢é‡è®­ç»ƒä½¿ç”¨1å¹´æ•°æ®
    
  # è®­ç»ƒå‚æ•°
  train_test_split_ratio: 0.8
  data_decay_rate: 0.4
  
  # ç½®ä¿¡åº¦é…ç½®ï¼ˆå·²ç®€åŒ–ï¼Œæ— å¹³æ»‘å¤„ç†ï¼‰
  # æ³¨ï¼šç½®ä¿¡åº¦å¹³æ»‘åŠŸèƒ½å·²åºŸå¼ƒï¼Œç°åœ¨ç›´æ¥ä½¿ç”¨AIæ¨¡å‹åŸå§‹è¾“å‡º
```

#### ç­–ç•¥é…ç½®
```yaml
strategy:
  # æ ¸å¿ƒå‚æ•°
  rise_threshold: 0.04      # æ¶¨å¹…é˜ˆå€¼ (4%)
  max_days: 20              # æœ€å¤§è§‚å¯Ÿå¤©æ•°
  
  # æŠ€æœ¯æŒ‡æ ‡å‚æ•°
  rsi_period: 14
  bb_period: 20
  bb_std: 2
  
  # ç½®ä¿¡åº¦æƒé‡
  confidence_weights:
    final_threshold: 0.5
    rsi_oversold_threshold: 30
    rsi_low_threshold: 40
```

#### æ•°æ®é…ç½®
```yaml
data:
  data_file_path: data/SHSE.000905_1d.csv
  data_source: akshare
  index_code: SHSE.000905
  history_days: 1000
```

### ğŸ”„ è‡ªå®šä¹‰é…ç½®

**ä½¿ç”¨ç¯å¢ƒå˜é‡æŒ‡å®šé…ç½®æ–‡ä»¶**:
```bash
CSI_CONFIG_PATH=path/to/custom_config.yaml python run.py ai -m full
```

**ä¿®æ”¹é»˜è®¤é…ç½®**:
```yaml
# åœ¨ config/config.yaml ä¸­ä¿®æ”¹
ai:
  training_data:
    full_train_years: 8     # æ”¹ä¸º8å¹´æ•°æ®
    
strategy:
  rise_threshold: 0.05      # æ”¹ä¸º5%æ¶¨å¹…é˜ˆå€¼
```

---

## ğŸ¯ å…¸å‹ä½¿ç”¨åœºæ™¯

### ğŸ“ˆ åœºæ™¯1: æ—¥å¸¸é¢„æµ‹

**ç›®æ ‡**: é¢„æµ‹æ˜å¤©æ˜¯å¦ä¸ºç›¸å¯¹ä½ç‚¹

```bash
# 1. ç¡®ä¿æ¨¡å‹æ˜¯æœ€æ–°çš„ (å¯é€‰)
python run.py ai -m incremental

# 2. è¿›è¡Œé¢„æµ‹ (æ›¿æ¢ä¸ºå®é™…æ—¥æœŸ)
python run.py s 2024-12-02

# 3. æŸ¥çœ‹ç»“æœæ–‡ä»¶
# results/single_predictions/prediction_2024-12-02_*.json
# results/reports/report_2024-12-02_*.md
```

### ğŸ”„ åœºæ™¯2: æ¨¡å‹é‡è®­ç»ƒ

**ç›®æ ‡**: å®šæœŸé‡æ–°è®­ç»ƒæ¨¡å‹

```bash
# æ–¹å¼1: å¢é‡è®­ç»ƒ (å¿«é€Ÿï¼Œæ¨è)
python run.py ai -m incremental

# æ–¹å¼2: å®Œå…¨é‡è®­ç»ƒ (å½»åº•ï¼Œè€—æ—¶è¾ƒé•¿)
python run.py ai -m full

# æ–¹å¼3: å®Œæ•´ä¼˜åŒ– (å‚æ•°ä¼˜åŒ– + è®­ç»ƒ)
python run.py ai -m optimize
```

### ğŸ“Š åœºæ™¯3: ç­–ç•¥å›æµ‹

**ç›®æ ‡**: éªŒè¯ç­–ç•¥åœ¨å†å²æ•°æ®ä¸Šçš„è¡¨ç°

```bash
# æœ€è¿‘ä¸€å¹´å›æµ‹
python run.py r 2023-07-01 2024-07-01

# ç–«æƒ…æœŸé—´å›æµ‹
python run.py r 2020-01-01 2021-12-31

# æŸ¥çœ‹ç»“æœæ–‡ä»¶
# results/charts/rolling_backtest/
```

### ğŸ¤– åœºæ™¯4: å¢å¼ºç‰ˆè‡ªåŠ¨åŒ–è¿è¡Œ

**ç›®æ ‡**: è®¾ç½®å…¨åŠŸèƒ½è‡ªåŠ¨åŒ–äº¤æ˜“æœºå™¨äºº

```bash
# å•æ¬¡è¿è¡Œ (æµ‹è¯•)
python run.py bot -m run

# å®šæ—¶è¿è¡Œ (ç®€å•æ¨¡å¼)
python run.py bot -m schedule

# å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ (æ¨èç”Ÿäº§ç¯å¢ƒ)
python run.py bot -m daemon --daemon

# æ£€æŸ¥çŠ¶æ€
python run.py bot -m status

# ç³»ç»Ÿå¥åº·æ£€æŸ¥
python run.py bot -m health

# æ•°æ®å¤‡ä»½
python run.py bot -m backup
```

**ä½¿ç”¨ç®¡ç†è„šæœ¬ï¼ˆæ¨èï¼‰**:
```bash
# Linux/Mac
./scripts/start_enhanced_bot_daemon.sh start    # å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹
./scripts/start_enhanced_bot_daemon.sh status   # æŸ¥çœ‹çŠ¶æ€
./scripts/start_enhanced_bot_daemon.sh logs     # æŸ¥çœ‹æ—¥å¿—
./scripts/start_enhanced_bot_daemon.sh stop     # åœæ­¢å®ˆæŠ¤è¿›ç¨‹

# Windows
scripts\start_enhanced_bot_daemon.bat start     # å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹
scripts\start_enhanced_bot_daemon.bat status    # æŸ¥çœ‹çŠ¶æ€
scripts\start_enhanced_bot_daemon.bat logs      # æŸ¥çœ‹æ—¥å¿—
scripts\start_enhanced_bot_daemon.bat stop      # åœæ­¢å®ˆæŠ¤è¿›ç¨‹
```

### ğŸ”§ åœºæ™¯5: å‚æ•°ä¼˜åŒ–

**ç›®æ ‡**: ä¼˜åŒ–ç­–ç•¥å‚æ•°ä»¥æå‡è¡¨ç°

```bash
# å¿«é€Ÿä¼˜åŒ– (10æ¬¡è¿­ä»£)
python run.py opt

# æ·±åº¦ä¼˜åŒ– (50æ¬¡è¿­ä»£)
python run.py opt -i 50

# å®Œæ•´AIä¼˜åŒ– (åŒ…å«å‚æ•°ä¼˜åŒ–å’Œæ¨¡å‹è®­ç»ƒ)
python run.py ai -m optimize
```

---

## ğŸ“Š è¾“å‡ºæ–‡ä»¶è¯´æ˜

### ğŸ“ æ–‡ä»¶ç»“æ„
```
results/
â”œâ”€â”€ single_predictions/          # å•æ—¥é¢„æµ‹ç»“æœ
â”‚   â””â”€â”€ prediction_YYYY-MM-DD_*.json
â”œâ”€â”€ reports/                     # é¢„æµ‹æŠ¥å‘Š
â”‚   â””â”€â”€ report_YYYY-MM-DD_*.md
â”œâ”€â”€ history/                     # å†å²è®°å½•
â”‚   â””â”€â”€ prediction_history.json
â”œâ”€â”€ daily_trading/               # å¢å¼ºç‰ˆæœºå™¨äººæ•°æ®
â”‚   â”œâ”€â”€ bot_state.json          # æœºå™¨äººçŠ¶æ€
â”‚   â”œâ”€â”€ trading_history.json    # äº¤æ˜“å†å²
â”‚   â”œâ”€â”€ performance_metrics.json # æ€§èƒ½æŒ‡æ ‡
â”‚   â””â”€â”€ bot.pid                 # è¿›ç¨‹IDæ–‡ä»¶
â”œâ”€â”€ backup/                      # å¤‡ä»½ç›®å½•
â”‚   â””â”€â”€ backup_YYYYMMDD_HHMMSS/ # æ—¶é—´æˆ³å¤‡ä»½
â””â”€â”€ charts/                      # å›¾è¡¨æ–‡ä»¶
    â””â”€â”€ rolling_backtest/        # å›æµ‹å›¾è¡¨
        â”œâ”€â”€ rolling_backtest_results_*.png
        â””â”€â”€ prediction_details_*.png

models/                          # æ¨¡å‹æ–‡ä»¶
â”œâ”€â”€ improved_model_*.pkl         # AIæ¨¡å‹æ–‡ä»¶
â”œâ”€â”€ latest_improved_model.txt    # æœ€æ–°æ¨¡å‹æŒ‡é’ˆ
â””â”€â”€ confidence_history.json     # ç½®ä¿¡åº¦å†å²

logs/                           # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ system.log                 # ç³»ç»Ÿæ—¥å¿—
â”œâ”€â”€ enhanced_trading_bot.log    # å¢å¼ºç‰ˆæœºå™¨äººæ—¥å¿—
â”œâ”€â”€ daemon.log                 # å®ˆæŠ¤è¿›ç¨‹æ—¥å¿—
â””â”€â”€ performance_monitor.log    # æ€§èƒ½ç›‘æ§æ—¥å¿—

scripts/                        # è„šæœ¬ç›®å½•
â”œâ”€â”€ daily_trading_bot.py        # å¢å¼ºç‰ˆæœºå™¨äººæ ¸å¿ƒ
â”œâ”€â”€ start_enhanced_bot_daemon.sh # Linux/Macå®ˆæŠ¤è¿›ç¨‹ç®¡ç†
â””â”€â”€ start_enhanced_bot_daemon.bat # Windowså®ˆæŠ¤è¿›ç¨‹ç®¡ç†
```

### ğŸ“„ ç»“æœæ–‡ä»¶æ ¼å¼

**é¢„æµ‹ç»“æœ JSON** (`results/single_predictions/`):
```json
{
  "date": "2024-12-01",
  "prediction": {
    "is_low_point": true,
    "confidence": 0.7234,
    "final_confidence": 0.7234
  },
  "model_info": {
    "model_type": "RandomForestClassifier",
    "training_date": "2024-11-30"
  }
}
```

**é¢„æµ‹æŠ¥å‘Š Markdown** (`results/reports/`):
```markdown
# ç›¸å¯¹ä½ç‚¹é¢„æµ‹æŠ¥å‘Š - 2024-12-01

## é¢„æµ‹ç»“æœ
- ğŸ“ˆ **é¢„æµ‹**: ç›¸å¯¹ä½ç‚¹
- ğŸ“Š **AIç½®ä¿¡åº¦**: 72.34% (åŸå§‹æ¨¡å‹è¾“å‡º)
- ğŸ¤– **æ¨¡å‹**: RandomForest

## æŠ€æœ¯æŒ‡æ ‡åˆ†æ
- RSI: 28.5 (è¶…å–)
- å‡çº¿ä½ç½®: ä»·æ ¼ä½äºæ‰€æœ‰å‡çº¿
- æˆäº¤é‡: æ”¾é‡ä¸‹è·Œ
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### âŒ å¸¸è§é—®é¢˜

#### é—®é¢˜1: æ¨¡å—å¯¼å…¥é”™è¯¯
```bash
ImportError: No module named 'src.xxx'
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
cd /path/to/csi1000_quant
python run.py b
```

#### é—®é¢˜2: é…ç½®æ–‡ä»¶åŠ è½½å¤±è´¥
```bash
âŒ æ— æ³•åŠ è½½é…ç½®æ–‡ä»¶
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls config/config.yaml

# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
python -c "import yaml; yaml.safe_load(open('config/config.yaml'))"
```

#### é—®é¢˜3: è™šæ‹Ÿç¯å¢ƒé—®é¢˜
```bash
âš ï¸ æ‚¨ä¼¼ä¹æ²¡æœ‰åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿è¡Œ
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate

# Linux/Mac:
source venv/bin/activate
```

#### é—®é¢˜4: æ•°æ®æ–‡ä»¶ä¸å­˜åœ¨
```bash
âŒ æ•°æ®æ–‡ä»¶ä¸å­˜åœ¨: data/SHSE.000905_1d.csv
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# è¿è¡Œæ•°æ®è·å–è„šæœ¬
python src/data/fetch_latest_data.py

# æˆ–æ‰‹åŠ¨ä¸‹è½½æ•°æ®æ–‡ä»¶åˆ° data/ ç›®å½•
```

#### é—®é¢˜5: æ¨¡å‹æ–‡ä»¶ä¸å­˜åœ¨
```bash
âŒ æœªæ‰¾åˆ°å·²è®­ç»ƒçš„æ¨¡å‹
```
**è§£å†³æ–¹æ¡ˆ**:
```bash
# è¿›è¡Œå®Œå…¨è®­ç»ƒ
python run.py ai -m full
```

### ğŸ” è°ƒè¯•æ¨¡å¼

**å¯ç”¨è¯¦ç»†è¾“å‡º**:
```bash
python run.py ai -m full -v
```

**æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶**:
```bash
tail -f logs/system.log
```

**æ£€æŸ¥ç³»ç»ŸçŠ¶æ€**:
```bash
python run.py b -v
```

---

## ğŸš€ é«˜çº§ç”¨æ³•

### ğŸ”§ è‡ªå®šä¹‰é…ç½®

**åˆ›å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶**:
```bash
cp config/config.yaml config/my_config.yaml
# ç¼–è¾‘ my_config.yaml
CSI_CONFIG_PATH=config/my_config.yaml python run.py ai -m full
```

**ä¸´æ—¶ä¿®æ”¹è®­ç»ƒå‚æ•°**:
```yaml
# config/my_config.yaml
ai:
  training_data:
    full_train_years: 10    # ä½¿ç”¨10å¹´æ•°æ®
    
strategy:
  rise_threshold: 0.06      # æé«˜åˆ°6%æ¶¨å¹…é˜ˆå€¼
```

### ğŸ“Š æ‰¹é‡æ“ä½œ

**æ‰¹é‡é¢„æµ‹å¤šä¸ªæ—¥æœŸ**:
```bash
# åˆ›å»ºæ‰¹é‡é¢„æµ‹è„šæœ¬
for date in 2024-06-01 2024-06-02 2024-06-03; do
    python run.py s $date
done
```

**æ‰¹é‡å›æµ‹ä¸åŒæ—¶é—´æ®µ**:
```bash
# å¹´åº¦å›æµ‹
python run.py r 2020-01-01 2020-12-31
python run.py r 2021-01-01 2021-12-31
python run.py r 2022-01-01 2022-12-31
```

### ğŸ”„ å®šæ—¶ä»»åŠ¡è®¾ç½®

**Linux/Mac cronè®¾ç½®**:
```bash
# ç¼–è¾‘crontab
crontab -e

# æ·»åŠ å®šæ—¶ä»»åŠ¡ (æ¯ä¸ªäº¤æ˜“æ—¥9:30æ‰§è¡Œ)
30 9 * * 1-5 cd /path/to/csi1000_quant && python run.py bot -m run
```

**Windowsä»»åŠ¡è®¡åˆ’ç¨‹åº**:
```bat
@echo off
cd /d G:\repo\csi1000_quant
call venv\Scripts\activate
python run.py bot -m run
```

---

## ğŸ¤– å¢å¼ºç‰ˆäº¤æ˜“æœºå™¨äººè¯¦ç»†æŒ‡å—

### ğŸ¯ æ¦‚è¿°

å¢å¼ºç‰ˆäº¤æ˜“æœºå™¨äººæ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„è‡ªåŠ¨åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œæ”¯æŒæ— äººå€¼å®ˆè¿è¡Œã€è‡ªåŠ¨æ•°æ®æ›´æ–°ã€æ€§èƒ½ç›‘æ§å’Œæ•°æ®å¤‡ä»½ç­‰åŠŸèƒ½ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- âœ… **æ¯å¤©15:05è‡ªåŠ¨æ‹‰å–æœ€æ–°æ•°æ®å¹¶æäº¤** - ç¡®ä¿æ•°æ®å§‹ç»ˆæ˜¯æœ€æ–°çš„
- âœ… **å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼å¸¸é©»è¿è¡Œ** - æ— éœ€æ‰‹åŠ¨å¹²é¢„ï¼Œ24/7è¿è¡Œ
- âœ… **ç³»ç»Ÿæ€§èƒ½ç›‘æ§å’Œå‘Šè­¦** - å®æ—¶ç›‘æ§CPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨æƒ…å†µ
- âœ… **è‡ªåŠ¨æ•°æ®å¤‡ä»½å’Œæ¢å¤** - è‡ªåŠ¨å¤‡ä»½é‡è¦æ•°æ®ï¼Œæ”¯æŒå¿«é€Ÿæ¢å¤
- âœ… **å¥åº·æ£€æŸ¥å’Œæ•…éšœæ¢å¤** - è‡ªåŠ¨æ£€æµ‹é—®é¢˜å¹¶å‘é€å‘Šè­¦
- âœ… **å®Œæ•´çš„æ—¥å¿—è®°å½•ç³»ç»Ÿ** - è¯¦ç»†è®°å½•æ‰€æœ‰æ“ä½œæ—¥å¿—

### ğŸ“¦ ä¾èµ–åŒ…å®‰è£…

```bash
# å®‰è£…æ–°å¢çš„ä¾èµ–åŒ…
pip install psutil GitPython schedule

# æˆ–è€…å®‰è£…å®Œæ•´çš„ä¾èµ–
pip install -r requirements.txt
```

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### æ–¹æ³•ä¸€ï¼šä½¿ç”¨run.pyå‘½ä»¤

```bash
# è¿è¡Œå•æ¬¡äº¤æ˜“æµç¨‹
python run.py bot -m run

# å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼
python run.py bot -m daemon --daemon

# æŸ¥çœ‹æœºå™¨äººçŠ¶æ€
python run.py bot -m status

# æ‰§è¡Œæ•°æ®å¤‡ä»½
python run.py bot -m backup

# ç³»ç»Ÿå¥åº·æ£€æŸ¥
python run.py bot -m health

# ä»å¤‡ä»½æ¢å¤æ•°æ®
python run.py bot -m restore --backup-timestamp 20240101_120000
```

#### æ–¹æ³•äºŒï¼šä½¿ç”¨ç®¡ç†è„šæœ¬ï¼ˆæ¨èï¼‰

**Linux/Macç³»ç»Ÿ**:
```bash
# å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹
./scripts/start_enhanced_bot_daemon.sh start

# æŸ¥çœ‹çŠ¶æ€
./scripts/start_enhanced_bot_daemon.sh status

# æŸ¥çœ‹æ—¥å¿—
./scripts/start_enhanced_bot_daemon.sh logs

# åœæ­¢å®ˆæŠ¤è¿›ç¨‹
./scripts/start_enhanced_bot_daemon.sh stop

# é‡å¯å®ˆæŠ¤è¿›ç¨‹
./scripts/start_enhanced_bot_daemon.sh restart
```

**Windowsç³»ç»Ÿ**:
```cmd
:: å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹
scripts\start_enhanced_bot_daemon.bat start

:: æŸ¥çœ‹çŠ¶æ€
scripts\start_enhanced_bot_daemon.bat status

:: æŸ¥çœ‹æ—¥å¿—
scripts\start_enhanced_bot_daemon.bat logs

:: åœæ­¢å®ˆæŠ¤è¿›ç¨‹
scripts\start_enhanced_bot_daemon.bat stop

:: é‡å¯å®ˆæŠ¤è¿›ç¨‹
scripts\start_enhanced_bot_daemon.bat restart
```

### ğŸ“… å®šæ—¶ä»»åŠ¡è¯´æ˜

æœºå™¨äººä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹å®šæ—¶ä»»åŠ¡ï¼š

- **æ¯å¤©15:05** - è‡ªåŠ¨æ•°æ®æ‹‰å–å’Œæäº¤åˆ°Git
- **æ¯å¤©09:30** - æ—¥å¸¸äº¤æ˜“æµç¨‹æ‰§è¡Œ
- **æ¯å¤©01:00** - ç³»ç»Ÿå¥åº·æ£€æŸ¥
- **æ¯å‘¨æ—¥02:00** - æ•°æ®å¤‡ä»½
- **æ¯å°æ—¶** - æ€§èƒ½æŒ‡æ ‡æ”¶é›†

### ğŸ“Š ç›‘æ§å’Œç®¡ç†

#### çŠ¶æ€æŸ¥çœ‹
```bash
# è¯¦ç»†çŠ¶æ€æŠ¥å‘Š
python run.py bot -m status
```

çŠ¶æ€æŠ¥å‘ŠåŒ…å«ï¼š
- ğŸ“Š æ‰§è¡Œç»Ÿè®¡ï¼ˆé¢„æµ‹æ¬¡æ•°ã€æˆåŠŸæ¬¡æ•°ç­‰ï¼‰
- ğŸ• æœ€åæ‰§è¡Œæ—¶é—´
- ğŸ¥ ç³»ç»Ÿå¥åº·æ£€æŸ¥
- ğŸ’¾ å¤‡ä»½ä¿¡æ¯

#### æ—¥å¿—ç®¡ç†
```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
./scripts/start_enhanced_bot_daemon.sh logs   # Linux/Mac
scripts\start_enhanced_bot_daemon.bat logs    # Windows

# æ—¥å¿—æ–‡ä»¶ä½ç½®
logs/enhanced_trading_bot.log      # ä¸»æ—¥å¿—
logs/daemon.log                   # å®ˆæŠ¤è¿›ç¨‹æ—¥å¿—
logs/performance_monitor.log      # æ€§èƒ½ç›‘æ§æ—¥å¿—
```

#### å¤‡ä»½ç®¡ç†
```bash
# æ‰‹åŠ¨å¤‡ä»½
python run.py bot -m backup

# æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶
ls results/backup/

# æ¢å¤æ•°æ®ï¼ˆéœ€è¦æŒ‡å®šæ—¶é—´æˆ³ï¼‰
python run.py bot -m restore --backup-timestamp 20240101_120000
```

### ğŸš¨ å¥åº·ç›‘æ§

#### è‡ªåŠ¨ç›‘æ§é¡¹ç›®
- **CPUä½¿ç”¨ç‡** - è¶…è¿‡80%å‘Šè­¦
- **å†…å­˜ä½¿ç”¨ç‡** - è¶…è¿‡85%å‘Šè­¦
- **ç£ç›˜ä½¿ç”¨ç‡** - è¶…è¿‡90%å‘Šè­¦
- **è¿ç»­é”™è¯¯æ¬¡æ•°** - è¶…è¿‡5æ¬¡å‘Šè­¦
- **æ•°æ®æ–°é²œåº¦** - è¶…è¿‡48å°æ—¶å‘Šè­¦

#### æ‰‹åŠ¨å¥åº·æ£€æŸ¥
```bash
python run.py bot -m health
```

### ğŸ”§ é…ç½®è¯´æ˜

#### ä¸»è¦é…ç½®æ–‡ä»¶
- `config/config_core.yaml` - æ ¸å¿ƒç³»ç»Ÿé…ç½®
- `config/optimization.yaml` - ä¼˜åŒ–é…ç½®

#### å…³é”®é…ç½®é¡¹
```yaml
# æœºå™¨äººé…ç½®ç¤ºä¾‹
bot:
  daemon_mode: true
  auto_data_fetch: true
  backup_interval_days: 7
  health_check_interval_hours: 1
  
  # å®šæ—¶ä»»åŠ¡é…ç½®
  schedules:
    data_fetch: "15:05"      # æ•°æ®æ‹‰å–æ—¶é—´
    daily_workflow: "09:30"  # æ—¥å¸¸äº¤æ˜“æµç¨‹
    health_check: "01:00"    # å¥åº·æ£€æŸ¥
    backup: "02:00"          # å¤‡ä»½ï¼ˆæ¯å‘¨æ—¥ï¼‰
```

### ğŸ”„ æ•…éšœæ¢å¤

#### è‡ªåŠ¨é‡å¯æœºåˆ¶
- å®ˆæŠ¤è¿›ç¨‹æ”¯æŒè‡ªåŠ¨é‡å¯
- å¼‚å¸¸é€€å‡ºæ—¶è‡ªåŠ¨è®°å½•é”™è¯¯æ—¥å¿—
- æ”¯æŒè¿œç¨‹é‡å¯ä¿¡å·

#### æ‰‹åŠ¨é‡å¯
```bash
# é‡å¯å®ˆæŠ¤è¿›ç¨‹
./scripts/start_enhanced_bot_daemon.sh restart   # Linux/Mac
scripts\start_enhanced_bot_daemon.bat restart    # Windows
```

#### æ•°æ®æ¢å¤
```bash
# åˆ—å‡ºæ‰€æœ‰å¤‡ä»½
ls results/backup/

# æ¢å¤åˆ°æŒ‡å®šå¤‡ä»½
python run.py bot -m restore --backup-timestamp 20240101_120000
```

### ğŸ›ï¸ é«˜çº§åŠŸèƒ½

#### Gité›†æˆ
- è‡ªåŠ¨æäº¤æ•°æ®æ›´æ–°åˆ°Gitä»“åº“
- æ”¯æŒè‡ªå®šä¹‰æäº¤ä¿¡æ¯
- è‡ªåŠ¨æ£€æµ‹æ•°æ®å˜æ›´

#### é€šçŸ¥ç³»ç»Ÿ
- ç³»ç»Ÿå¼‚å¸¸è‡ªåŠ¨å‘Šè­¦
- äº¤æ˜“ä¿¡å·é€šçŸ¥
- å¥åº·æ£€æŸ¥æŠ¥å‘Š

#### å¤‡ä»½ç­–ç•¥
- è‡ªåŠ¨å¤‡ä»½é‡è¦ç›®å½•ï¼ˆdataã€modelsã€configã€resultsã€logsï¼‰
- ä¿ç•™æœ€è¿‘10ä¸ªå¤‡ä»½
- æ”¯æŒæ‰‹åŠ¨å’Œè‡ªåŠ¨å¤‡ä»½

### ğŸ“ æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜

1. **å®ˆæŠ¤è¿›ç¨‹å¯åŠ¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…
   pip install -r requirements.txt
   
   # æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ
   source venv/bin/activate  # Linux/Mac
   venv\Scripts\activate     # Windows
   ```

2. **æ•°æ®æ‹‰å–å¤±è´¥**
   ```bash
   # æ‰‹åŠ¨æµ‹è¯•æ•°æ®æ‹‰å–
   python run.py fetch
   
   # æ£€æŸ¥ç½‘ç»œè¿æ¥
   # æ£€æŸ¥APIé…ç½®
   ```

3. **å¤‡ä»½å¤±è´¥**
   ```bash
   # æ£€æŸ¥ç£ç›˜ç©ºé—´
   df -h  # Linux/Mac
   dir    # Windows
   
   # æ£€æŸ¥ç›®å½•æƒé™
   ```

#### è°ƒè¯•æ¨¡å¼
```bash
# ä½¿ç”¨è¯¦ç»†è¾“å‡º
python run.py bot -m run -v

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f logs/enhanced_trading_bot.log
```

### ğŸ’¡ æœ€ä½³å®è·µ

1. **é¦–æ¬¡ä½¿ç”¨**ï¼šå…ˆè¿è¡Œ `python run.py bot -m run` æµ‹è¯•å•æ¬¡æ‰§è¡Œ
2. **ç”Ÿäº§ç¯å¢ƒ**ï¼šä½¿ç”¨å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ `python run.py bot -m daemon --daemon`
3. **å®šæœŸæ£€æŸ¥**ï¼šä½¿ç”¨ `python run.py bot -m status` æŸ¥çœ‹çŠ¶æ€
4. **æ•°æ®å®‰å…¨**ï¼šå®šæœŸæ‰§è¡Œ `python run.py bot -m backup` å¤‡ä»½æ•°æ®
5. **å¥åº·ç›‘æ§**ï¼šä½¿ç”¨ `python run.py bot -m health` æ£€æŸ¥ç³»ç»Ÿå¥åº·

### ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

**æå‡è®­ç»ƒé€Ÿåº¦**:
```yaml
# config/config.yaml
ai:
  training_data:
    full_train_years: 4     # å‡å°‘åˆ°4å¹´æ•°æ®
    
  optimization:
    global_iterations: 200  # å‡å°‘ä¼˜åŒ–æ¬¡æ•°
```

**å†…å­˜ä¼˜åŒ–**:
```yaml
# å¯¹äºå†…å­˜æœ‰é™çš„ç¯å¢ƒ
data:
  history_days: 500         # å‡å°‘å†å²æ•°æ®å¤©æ•°
  cache_enabled: false      # ç¦ç”¨ç¼“å­˜
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ğŸ“š æ–‡æ¡£èµ„æº
- `README.md` - é¡¹ç›®æ¦‚è¿°
- `QUICKSTART.md` - å¿«é€Ÿå¼€å§‹æŒ‡å—
- `RESET_GUIDE.md` - å‚æ•°é‡ç½®æŒ‡å—
- `DATA_ANALYSIS.md` - æ•°æ®èŒƒå›´åˆ†æ
- `DOCS.md` - è¯¦ç»†æŠ€æœ¯æ–‡æ¡£

### ğŸ” é—®é¢˜æ’æŸ¥æµç¨‹
1. æ£€æŸ¥ `logs/system.log` æ—¥å¿—æ–‡ä»¶
2. è¿è¡Œ `python run.py b -v` è¿›è¡ŒåŸºç¡€æµ‹è¯•
3. ç¡®è®¤è™šæ‹Ÿç¯å¢ƒå’Œä¾èµ–åŒ…å®‰è£…
4. æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•å’Œè·¯å¾„
5. ç¡®è®¤æ•°æ®æ–‡ä»¶æ˜¯å¦å­˜åœ¨

### ğŸ’¡ æœ€ä½³å®è·µ
- å®šæœŸè¿è¡Œ `python run.py ai -m incremental` æ›´æ–°æ¨¡å‹
- ä½¿ç”¨ `python run.py r` éªŒè¯ç­–ç•¥è¡¨ç°
- ä¿æŒé…ç½®æ–‡ä»¶å¤‡ä»½
- å®šæœŸæ¸…ç†æ—§çš„ç»“æœæ–‡ä»¶
- ç›‘æ§ç³»ç»Ÿæ—¥å¿—

---

## ğŸ† æ€»ç»“

æœ¬ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„AIé©±åŠ¨çš„ç›¸å¯¹ä½ç‚¹è¯†åˆ«è§£å†³æ–¹æ¡ˆï¼Œä»æ•°æ®è·å–åˆ°æ¨¡å‹è®­ç»ƒï¼Œä»å•æ—¥é¢„æµ‹åˆ°ç­–ç•¥å›æµ‹ï¼Œä¸ºé‡åŒ–æŠ•èµ„æä¾›äº†å¼ºå¤§çš„æŠ€æœ¯æ”¯æŒã€‚

**æ ¸å¿ƒä¼˜åŠ¿**:
- ğŸ¤– **æ™ºèƒ½åŒ–**: AIæ¨¡å‹è‡ªåŠ¨å­¦ä¹ å¸‚åœºè§„å¾‹
- âš¡ **é«˜æ•ˆç‡**: 6å¹´æ•°æ®è®­ç»ƒä»…éœ€6-12åˆ†é’Ÿ
- ğŸ¯ **å‡†ç¡®æ€§**: ä¸¥æ ¼æ•°æ®åˆ†å‰²ç¡®ä¿ç»“æœå¯é 
- ğŸ”„ **å¯æ‰©å±•**: æ”¯æŒå¢é‡å­¦ä¹ å’Œå‚æ•°ä¼˜åŒ–
- ğŸ“Š **å¯è§†åŒ–**: è¯¦ç»†æŠ¥å‘Šå’Œå›¾è¡¨å±•ç¤º

å¼€å§‹æ‚¨çš„é‡åŒ–æŠ•èµ„ä¹‹æ—…å§ï¼ğŸš€ 