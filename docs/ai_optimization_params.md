# AIä¼˜åŒ–å‚æ•°è¯´æ˜

## æ¦‚è¿°

æœ¬é¡¹ç›®æ–°å¢äº†3ä¸ªAIä¼˜åŒ–å‚æ•°ï¼Œç”¨äºæå‡ç­–ç•¥çš„é€‚åº”æ€§å’Œå‡†ç¡®æ€§ã€‚è¿™äº›å‚æ•°ä¼šåœ¨æ¯æ¬¡AIä¼˜åŒ–åè‡ªåŠ¨æ›´æ–°ï¼Œä½¿ç­–ç•¥èƒ½å¤Ÿæ›´å¥½åœ°é€‚åº”ä¸åŒçš„å¸‚åœºç¯å¢ƒã€‚

## æ–°å¢å‚æ•°è¯¦æƒ…

### 1. åŠ¨æ€ç½®ä¿¡åº¦è°ƒæ•´ç³»æ•° (dynamic_confidence_adjustment)

**å‚æ•°ç±»å‹**: æµ®ç‚¹æ•°  
**é»˜è®¤å€¼**: 0.1  
**ä¼˜åŒ–èŒƒå›´**: 0.05 - 0.25  
**æ­¥é•¿**: 0.02  

**åŠŸèƒ½è¯´æ˜**:
- æ ¹æ®å¸‚åœºæ³¢åŠ¨æ€§è‡ªåŠ¨è°ƒæ•´ç½®ä¿¡åº¦é˜ˆå€¼
- é«˜æ³¢åŠ¨ç‡æ—¶é™ä½ç½®ä¿¡åº¦è¦æ±‚ï¼Œæé«˜ä¿¡å·æ•æ„Ÿåº¦
- ä½æ³¢åŠ¨ç‡æ—¶æé«˜ç½®ä¿¡åº¦è¦æ±‚ï¼Œå‡å°‘è¯¯æŠ¥ä¿¡å·

**è®¡ç®—é€»è¾‘**:
```python
# è®¡ç®—20æ—¥æ³¢åŠ¨ç‡
volatility = returns.std()

if volatility > 0.03:  # é«˜æ³¢åŠ¨ç‡
    confidence += dynamic_confidence_adjustment * 0.5
elif volatility < 0.015:  # ä½æ³¢åŠ¨ç‡
    confidence -= dynamic_confidence_adjustment * 0.3
```

**åº”ç”¨åœºæ™¯**:
- å¸‚åœºå‰§çƒˆæ³¢åŠ¨æ—¶ï¼Œæ”¾å®½ä¹°å…¥æ¡ä»¶
- å¸‚åœºå¹³ç¨³æ—¶ï¼Œæé«˜ä¹°å…¥æ ‡å‡†
- é€‚åº”ä¸åŒå¸‚åœºå‘¨æœŸçš„ç‰¹ç‚¹

### 2. å¸‚åœºæƒ…ç»ªæƒé‡ (market_sentiment_weight)

**å‚æ•°ç±»å‹**: æµ®ç‚¹æ•°  
**é»˜è®¤å€¼**: 0.15  
**ä¼˜åŒ–èŒƒå›´**: 0.08 - 0.25  
**æ­¥é•¿**: 0.02  

**åŠŸèƒ½è¯´æ˜**:
- åŸºäºæˆäº¤é‡å˜åŒ–åˆ¤æ–­å¸‚åœºæƒ…ç»ª
- è¯†åˆ«ææ…Œæ€§æŠ›å”®å’Œè§‚æœ›æƒ…ç»ª
- åœ¨æç«¯æƒ…ç»ªæ—¶è°ƒæ•´ç­–ç•¥æƒé‡

**è®¡ç®—é€»è¾‘**:
```python
# è®¡ç®—è¿‘æœŸæˆäº¤é‡å˜åŒ–
recent_volume_avg = data['volume'].tail(5).mean()
historical_volume_avg = data['volume'].tail(20).mean()
volume_ratio = recent_volume_avg / historical_volume_avg

if volume_ratio > 1.3:  # æ”¾é‡
    if price_change < -0.02:  # ææ…Œæ€§æŠ›å”®
        confidence += market_sentiment_weight * 0.8
    else:  # æ¸©å’Œæ”¾é‡
        confidence += market_sentiment_weight * 0.4
elif volume_ratio < 0.7:  # ç¼©é‡è§‚æœ›
    confidence -= market_sentiment_weight * 0.3
```

**åº”ç”¨åœºæ™¯**:
- è¯†åˆ«å¸‚åœºææ…Œæƒ…ç»ªï¼Œå¯»æ‰¾è¶…è·Œæœºä¼š
- åˆ¤æ–­å¸‚åœºè§‚æœ›æƒ…ç»ªï¼Œé¿å…è¯¯åˆ¤
- æé«˜ç­–ç•¥å¯¹å¸‚åœºæƒ…ç»ªçš„æ•æ„Ÿåº¦

### 3. è¶‹åŠ¿å¼ºåº¦æƒé‡ (trend_strength_weight)

**å‚æ•°ç±»å‹**: æµ®ç‚¹æ•°  
**é»˜è®¤å€¼**: 0.12  
**ä¼˜åŒ–èŒƒå›´**: 0.06 - 0.20  
**æ­¥é•¿**: 0.02  

**åŠŸèƒ½è¯´æ˜**:
- åŸºäºä»·æ ¼è¶‹åŠ¿å¼ºåº¦è°ƒæ•´æƒé‡
- è¯†åˆ«è¶‹åŠ¿åè½¬å’Œè¶‹åŠ¿å»¶ç»­
- åœ¨å¼ºè¶‹åŠ¿ä¸­è°ƒæ•´ç­–ç•¥æ•æ„Ÿåº¦

**è®¡ç®—é€»è¾‘**:
```python
# è®¡ç®—è¶‹åŠ¿å¼ºåº¦
ma_short = data['close'].rolling(5).mean()
ma_long = data['close'].rolling(20).mean()
trend_strength = abs(ma_short.iloc[-1] - ma_long.iloc[-1]) / ma_long.iloc[-1]

if trend_strength > 0.05:  # å¼ºè¶‹åŠ¿
    if ma_short.iloc[-1] < ma_long.iloc[-1]:  # ä¸‹è·Œè¶‹åŠ¿
        confidence += trend_strength_weight * 0.6
    else:  # ä¸Šæ¶¨è¶‹åŠ¿
        confidence -= trend_strength_weight * 0.4
elif trend_strength < 0.02:  # å¼±è¶‹åŠ¿
    confidence += trend_strength_weight * 0.3
```

**åº”ç”¨åœºæ™¯**:
- åœ¨å¼ºä¸‹è·Œè¶‹åŠ¿ä¸­å¯»æ‰¾åå¼¹æœºä¼š
- åœ¨å¼±è¶‹åŠ¿ä¸­æé«˜ä¿¡å·æ•æ„Ÿåº¦
- é¿å…åœ¨å¼ºä¸Šæ¶¨è¶‹åŠ¿ä¸­è¯¯åˆ¤ä¹°å…¥ç‚¹

### 4. æˆäº¤é‡æƒé‡ (volume_weight) - æ–°å¢é«˜é‡è¦åº¦å‚æ•°

**å‚æ•°ç±»å‹**: æµ®ç‚¹æ•°  
**é»˜è®¤å€¼**: 0.25  
**ä¼˜åŒ–èŒƒå›´**: 0.15 - 0.35  
**æ­¥é•¿**: 0.02  

**åŠŸèƒ½è¯´æ˜**:
- åŸºäºæˆäº¤é‡å˜åŒ–è°ƒæ•´ç­–ç•¥æƒé‡
- è¯†åˆ«æˆäº¤é‡å¼‚å¸¸å’Œè¶‹åŠ¿ç¡®è®¤
- æé«˜å¯¹æˆäº¤é‡ä¿¡å·çš„æ•æ„Ÿåº¦

**åº”ç”¨åœºæ™¯**:
- è¯†åˆ«æ”¾é‡çªç ´å’Œç¼©é‡å›è°ƒ
- åˆ¤æ–­æˆäº¤é‡è¶‹åŠ¿çš„æŒç»­æ€§
- æé«˜ç­–ç•¥å¯¹æˆäº¤é‡å˜åŒ–çš„å“åº”

### 5. ä»·æ ¼åŠ¨é‡æƒé‡ (price_momentum_weight) - æ–°å¢é«˜é‡è¦åº¦å‚æ•°

**å‚æ•°ç±»å‹**: æµ®ç‚¹æ•°  
**é»˜è®¤å€¼**: 0.20  
**ä¼˜åŒ–èŒƒå›´**: 0.12 - 0.30  
**æ­¥é•¿**: 0.02  

**åŠŸèƒ½è¯´æ˜**:
- åŸºäºä»·æ ¼åŠ¨é‡æŒ‡æ ‡è°ƒæ•´æƒé‡
- è¯†åˆ«ä»·æ ¼åŠ¨é‡çš„å˜åŒ–è¶‹åŠ¿
- åœ¨åŠ¨é‡è½¬æ¢æ—¶è°ƒæ•´ç­–ç•¥æ•æ„Ÿåº¦

**åº”ç”¨åœºæ™¯**:
- è¯†åˆ«ä»·æ ¼åŠ¨é‡çš„å¼ºå¼±å˜åŒ–
- åˆ¤æ–­åŠ¨é‡è¶‹åŠ¿çš„æŒç»­æ€§
- æé«˜ç­–ç•¥å¯¹ä»·æ ¼åŠ¨é‡çš„å“åº”

## å‚æ•°ä¼˜åŒ–é…ç½®

### ä¼˜åŒ–èŒƒå›´è®¾ç½®

åœ¨ `config/config.yaml` ä¸­é…ç½®å‚æ•°ä¼˜åŒ–èŒƒå›´ï¼š

```yaml
ai:
  optimization_ranges:
    # åŠ¨æ€ç½®ä¿¡åº¦è°ƒæ•´ç³»æ•°èŒƒå›´
    dynamic_confidence_adjustment:
      min: 0.05
      max: 0.25
      step: 0.02
    # å¸‚åœºæƒ…ç»ªæƒé‡èŒƒå›´
    market_sentiment_weight:
      min: 0.08
      max: 0.25
      step: 0.02
    # è¶‹åŠ¿å¼ºåº¦æƒé‡èŒƒå›´
    trend_strength_weight:
      min: 0.06
      max: 0.20
      step: 0.02
    # æˆäº¤é‡æƒé‡èŒƒå›´ï¼ˆæ–°å¢é«˜é‡è¦åº¦å‚æ•°ï¼‰
    volume_weight:
      min: 0.15
      max: 0.35
      step: 0.02
    # ä»·æ ¼åŠ¨é‡æƒé‡èŒƒå›´ï¼ˆæ–°å¢é«˜é‡è¦åº¦å‚æ•°ï¼‰
    price_momentum_weight:
      min: 0.12
      max: 0.30
      step: 0.02
```

### ä¼˜åŒ–ç­–ç•¥

1. **éšæœºé‡‡æ ·ä¼˜åŒ–**: ä½¿ç”¨éšæœºé‡‡æ ·å‡å°‘è®¡ç®—é‡ï¼Œæé«˜ä¼˜åŒ–æ•ˆç‡
2. **å›ºå®šæ ¸å¿ƒå‚æ•°**: ä¿æŒ `rise_threshold` å’Œ `max_days` ä¸å˜ï¼Œåªä¼˜åŒ–è¾…åŠ©å‚æ•°
3. **å¤šç›®æ ‡è¯„ä¼°**: ç»¼åˆè€ƒè™‘æˆåŠŸç‡ã€æ¶¨å¹…ã€é€Ÿåº¦ã€é£é™©ç­‰å¤šä¸ªæŒ‡æ ‡
4. **æ—¶é—´åºåˆ—éªŒè¯**: ä½¿ç”¨æ—¶åºäº¤å‰éªŒè¯ç¡®ä¿å‚æ•°ç¨³å®šæ€§

## å¯é…ç½®ä¼˜åŒ–å‚æ•°

AIä¼˜åŒ–å™¨ç°åœ¨æ”¯æŒé€šè¿‡é…ç½®æ–‡ä»¶ `config/config.yaml` æ¥è°ƒæ•´ä¼˜åŒ–å‚æ•°ï¼Œæ— éœ€ä¿®æ”¹ä»£ç å³å¯è‡ªå®šä¹‰ä¼˜åŒ–è¡Œä¸ºã€‚

### é…ç½®ä½ç½®

æ‰€æœ‰AIä¼˜åŒ–ç›¸å…³çš„é…ç½®éƒ½åœ¨ `config/config.yaml` æ–‡ä»¶çš„ `ai.optimization` éƒ¨åˆ†ï¼š

```yaml
ai:
  optimization:
    # å…¨å±€ä¼˜åŒ–è¿­ä»£æ¬¡æ•°ï¼ˆé¦–æ¬¡è¿è¡Œæˆ–æ²¡æœ‰å†å²å‚æ•°æ—¶ä½¿ç”¨ï¼‰
    global_iterations: 150
    # å¢é‡ä¼˜åŒ–è¿­ä»£æ¬¡æ•°ï¼ˆåŸºäºå†å²å‚æ•°ä¼˜åŒ–æ—¶ä½¿ç”¨ï¼‰
    incremental_iterations: 100
    # å¢é‡æœç´¢èŒƒå›´æ”¶ç¼©æ¯”ä¾‹ï¼ˆ0.1-1.0ï¼Œè¶Šå°æœç´¢èŒƒå›´è¶Šçª„ï¼‰
    incremental_contraction_factor: 0.3
    # æ˜¯å¦å¯ç”¨å¢é‡ä¼˜åŒ–
    enable_incremental: true
    # æ˜¯å¦å¯ç”¨å‚æ•°å†å²è®°å½•
    enable_history: true
    # å†å²è®°å½•æœ€å¤§æ¡æ•°
    max_history_records: 100
```

### é…ç½®å‚æ•°è¯¦è§£

#### 1. è¿­ä»£æ¬¡æ•°é…ç½®

##### `global_iterations`
- **ç±»å‹**: æ•´æ•°
- **é»˜è®¤å€¼**: 150
- **è¯´æ˜**: å…¨å±€ä¼˜åŒ–æ¨¡å¼ä¸‹çš„æœ€å¤§è¿­ä»£æ¬¡æ•°
- **ä½¿ç”¨åœºæ™¯**: é¦–æ¬¡è¿è¡ŒAIä¼˜åŒ–æˆ–æ²¡æœ‰å†å²å‚æ•°æ—¶
- **å»ºè®®å€¼**: 100-300
  - 100: å¿«é€Ÿä¼˜åŒ–ï¼Œé€‚åˆæµ‹è¯•
  - 150: å¹³è¡¡ä¼˜åŒ–ï¼Œæ¨èå€¼
  - 300: æ·±åº¦ä¼˜åŒ–ï¼Œè€—æ—¶è¾ƒé•¿

##### `incremental_iterations`
- **ç±»å‹**: æ•´æ•°
- **é»˜è®¤å€¼**: 100
- **è¯´æ˜**: å¢é‡ä¼˜åŒ–æ¨¡å¼ä¸‹çš„æœ€å¤§è¿­ä»£æ¬¡æ•°
- **ä½¿ç”¨åœºæ™¯**: åŸºäºå†å²æœ€ä¼˜å‚æ•°è¿›è¡Œç²¾ç»†ä¼˜åŒ–æ—¶
- **å»ºè®®å€¼**: 50-150
  - 50: å¿«é€Ÿå¢é‡ä¼˜åŒ–
  - 100: å¹³è¡¡å¢é‡ä¼˜åŒ–ï¼Œæ¨èå€¼
  - 150: æ·±åº¦å¢é‡ä¼˜åŒ–

#### 2. å¢é‡ä¼˜åŒ–é…ç½®

##### `incremental_contraction_factor`
- **ç±»å‹**: æµ®ç‚¹æ•°
- **é»˜è®¤å€¼**: 0.3
- **èŒƒå›´**: 0.1-1.0
- **è¯´æ˜**: å¢é‡æœç´¢èŒƒå›´çš„æ”¶ç¼©æ¯”ä¾‹
  - 0.1: æœç´¢èŒƒå›´å¾ˆçª„ï¼Œç²¾ç»†ä¼˜åŒ–
  - 0.3: å¹³è¡¡æœç´¢èŒƒå›´ï¼Œæ¨èå€¼
  - 0.5: æœç´¢èŒƒå›´è¾ƒå®½
  - 1.0: æœç´¢èŒƒå›´ä¸å…¨å±€ä¼˜åŒ–ç›¸åŒ

##### `enable_incremental`
- **ç±»å‹**: å¸ƒå°”å€¼
- **é»˜è®¤å€¼**: true
- **è¯´æ˜**: æ˜¯å¦å¯ç”¨å¢é‡ä¼˜åŒ–åŠŸèƒ½
- **é€‰é¡¹**:
  - `true`: å¯ç”¨å¢é‡ä¼˜åŒ–ï¼ŒåŸºäºå†å²å‚æ•°ä¼˜åŒ–
  - `false`: ç¦ç”¨å¢é‡ä¼˜åŒ–ï¼Œæ¯æ¬¡éƒ½è¿›è¡Œå…¨å±€ä¼˜åŒ–

#### 3. å†å²è®°å½•é…ç½®

##### `enable_history`
- **ç±»å‹**: å¸ƒå°”å€¼
- **é»˜è®¤å€¼**: true
- **è¯´æ˜**: æ˜¯å¦å¯ç”¨å‚æ•°å†å²è®°å½•åŠŸèƒ½
- **é€‰é¡¹**:
  - `true`: ä¿å­˜ä¼˜åŒ–å†å²ï¼Œæ”¯æŒå¢é‡ä¼˜åŒ–
  - `false`: ä¸ä¿å­˜å†å²ï¼Œæ¯æ¬¡éƒ½æ˜¯å…¨å±€ä¼˜åŒ–

##### `max_history_records`
- **ç±»å‹**: æ•´æ•°
- **é»˜è®¤å€¼**: 100
- **è¯´æ˜**: å†å²è®°å½•çš„æœ€å¤§ä¿å­˜æ¡æ•°
- **å»ºè®®å€¼**: 50-200
  - 50: èŠ‚çœå­˜å‚¨ç©ºé—´
  - 100: å¹³è¡¡å­˜å‚¨å’Œå†å²ï¼Œæ¨èå€¼
  - 200: ä¿ç•™æ›´å¤šå†å²è®°å½•

### é…ç½®ç¤ºä¾‹

#### å¿«é€Ÿæµ‹è¯•é…ç½®
```yaml
ai:
  optimization:
    global_iterations: 50
    incremental_iterations: 30
    incremental_contraction_factor: 0.2
    enable_incremental: true
    enable_history: true
    max_history_records: 20
```

#### æ·±åº¦ä¼˜åŒ–é…ç½®
```yaml
ai:
  optimization:
    global_iterations: 300
    incremental_iterations: 200
    incremental_contraction_factor: 0.1
    enable_incremental: true
    enable_history: true
    max_history_records: 200
```

#### ç¦ç”¨å¢é‡ä¼˜åŒ–é…ç½®
```yaml
ai:
  optimization:
    global_iterations: 200
    incremental_iterations: 100
    incremental_contraction_factor: 0.3
    enable_incremental: false
    enable_history: false
    max_history_records: 0
```

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä¼˜åŒ–

```python
from src.ai.ai_optimizer import AIOptimizer
from src.strategy.strategy_module import StrategyModule

# åˆå§‹åŒ–
ai_optimizer = AIOptimizer(config)
strategy_module = StrategyModule(config)

# è¿è¡Œä¼˜åŒ–
optimized_params = ai_optimizer.optimize_strategy_parameters(strategy_module, data)

# æ›´æ–°ç­–ç•¥å‚æ•°
strategy_module.update_params(optimized_params)
```

### åˆ†å±‚ä¼˜åŒ–

```python
# è¿è¡Œåˆ†å±‚ä¼˜åŒ–
result = ai_optimizer.hierarchical_optimization(data)

# è·å–ä¼˜åŒ–ç»“æœ
best_params = result['params']
best_score = result['best_score']
total_time = result['total_time']
```

## å‚æ•°å½±å“åˆ†æ

### å¯¹ç­–ç•¥æ€§èƒ½çš„å½±å“

1. **åŠ¨æ€ç½®ä¿¡åº¦è°ƒæ•´**: æé«˜ç­–ç•¥åœ¨ä¸åŒå¸‚åœºç¯å¢ƒä¸‹çš„é€‚åº”æ€§
2. **å¸‚åœºæƒ…ç»ªæƒé‡**: å¢å¼ºå¯¹å¸‚åœºæƒ…ç»ªçš„æ•æ„Ÿåº¦ï¼Œæé«˜ä¿¡å·è´¨é‡
3. **è¶‹åŠ¿å¼ºåº¦æƒé‡**: ä¼˜åŒ–è¶‹åŠ¿åˆ¤æ–­ï¼Œå‡å°‘è¯¯åˆ¤ç‡
4. **æˆäº¤é‡æƒé‡**: æé«˜å¯¹æˆäº¤é‡å˜åŒ–çš„æ•æ„Ÿåº¦
5. **ä»·æ ¼åŠ¨é‡æƒé‡**: ä¼˜åŒ–å¯¹ä»·æ ¼åŠ¨é‡å˜åŒ–çš„å“åº”

### ä¼˜åŒ–æ•ˆæœè¯„ä¼°

- **æˆåŠŸç‡æå‡**: é€šè¿‡æƒ…ç»ªå’Œè¶‹åŠ¿åˆ†ææé«˜ä¿¡å·å‡†ç¡®æ€§
- **é£é™©æ§åˆ¶**: åŠ¨æ€è°ƒæ•´å‡å°‘æç«¯å¸‚åœºç¯å¢ƒä¸‹çš„é£é™©
- **é€‚åº”æ€§å¢å¼º**: å‚æ•°è‡ªåŠ¨ä¼˜åŒ–é€‚åº”ä¸åŒå¸‚åœºå‘¨æœŸ

## ä½¿ç”¨å»ºè®®

### 1. é¦–æ¬¡ä½¿ç”¨
- ä½¿ç”¨é»˜è®¤é…ç½®è¿›è¡Œæµ‹è¯•
- è§‚å¯Ÿä¼˜åŒ–æ•ˆæœå’Œè€—æ—¶
- æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´å‚æ•°

### 2. æ—¥å¸¸ä½¿ç”¨
- ä¿æŒ `enable_incremental: true` ä»¥è·å¾—æ›´å¥½çš„ä¼˜åŒ–æ•ˆæœ
- æ ¹æ®æ•°æ®é‡è°ƒæ•´è¿­ä»£æ¬¡æ•°
- å®šæœŸæ¸…ç†å†å²è®°å½•ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´

### 3. æ€§èƒ½è°ƒä¼˜
- å¦‚æœä¼˜åŒ–è€—æ—¶è¿‡é•¿ï¼Œå‡å°‘è¿­ä»£æ¬¡æ•°
- å¦‚æœä¼˜åŒ–æ•ˆæœä¸ä½³ï¼Œå¢åŠ è¿­ä»£æ¬¡æ•°æˆ–è°ƒæ•´æ”¶ç¼©æ¯”ä¾‹
- å¦‚æœå­˜å‚¨ç©ºé—´ä¸è¶³ï¼Œå‡å°‘å†å²è®°å½•æ•°é‡

### 4. ç‰¹æ®Šåœºæ™¯
- **å¿«é€Ÿæµ‹è¯•**: ä½¿ç”¨è¾ƒå°çš„è¿­ä»£æ¬¡æ•°
- **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨å¹³è¡¡çš„é…ç½®å‚æ•°
- **ç ”ç©¶åˆ†æ**: ä½¿ç”¨è¾ƒå¤§çš„è¿­ä»£æ¬¡æ•°å’Œæ”¶ç¼©æ¯”ä¾‹

## æ³¨æ„äº‹é¡¹

1. **å‚æ•°èŒƒå›´**: ç¡®ä¿å‚æ•°åœ¨åˆç†èŒƒå›´å†…ï¼Œé¿å…è¿‡åº¦ä¼˜åŒ–
2. **æ•°æ®è´¨é‡**: ä¼˜åŒ–æ•ˆæœä¾èµ–äºå†å²æ•°æ®çš„è´¨é‡å’Œå®Œæ•´æ€§
3. **å¸‚åœºå˜åŒ–**: å®šæœŸé‡æ–°ä¼˜åŒ–ä»¥é€‚åº”å¸‚åœºç¯å¢ƒå˜åŒ–
4. **è®¡ç®—æˆæœ¬**: ä¼˜åŒ–è¿‡ç¨‹éœ€è¦ä¸€å®šè®¡ç®—æ—¶é—´ï¼Œå»ºè®®åœ¨éäº¤æ˜“æ—¶é—´è¿›è¡Œ
5. **é…ç½®æ–‡ä»¶ä¿®æ”¹åéœ€è¦é‡å¯ç¨‹åº**æ‰èƒ½ç”Ÿæ•ˆ
6. **è¿­ä»£æ¬¡æ•°ä¸è¦è®¾ç½®è¿‡å¤§**ï¼Œé¿å…ä¼˜åŒ–æ—¶é—´è¿‡é•¿
7. **æ”¶ç¼©æ¯”ä¾‹ä¸è¦è®¾ç½®è¿‡å°**ï¼Œé¿å…æœç´¢èŒƒå›´è¿‡çª„
8. **å†å²è®°å½•ä¼šå ç”¨å­˜å‚¨ç©ºé—´**ï¼Œå®šæœŸæ¸…ç†ä¸éœ€è¦çš„è®°å½•
9. **å¢é‡ä¼˜åŒ–éœ€è¦å†å²å‚æ•°**ï¼Œé¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä½¿ç”¨å…¨å±€ä¼˜åŒ–

## ç›‘æ§å’Œè°ƒè¯•

### æŸ¥çœ‹å½“å‰é…ç½®
è¿è¡ŒAIä¼˜åŒ–æ—¶ï¼Œæ—¥å¿—ä¼šæ˜¾ç¤ºå½“å‰ä½¿ç”¨çš„é…ç½®ï¼š
```
ğŸ¯ å¢é‡ä¼˜åŒ–æ¨¡å¼ï¼Œæœ€å¤§è¿­ä»£æ¬¡æ•°: 100 (é…ç½®å€¼: 100)
ğŸ“Š å¢é‡æœç´¢æ”¶ç¼©æ¯”ä¾‹: 0.3
```

### æŸ¥çœ‹å†å²è®°å½•
å†å²è®°å½•ä¿å­˜åœ¨ `models/parameter_history.json` æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹ä¼˜åŒ–å†å²ã€‚

### é‡ç½®ä¼˜åŒ–å†å²
åˆ é™¤ä»¥ä¸‹æ–‡ä»¶å¯ä»¥é‡ç½®ä¼˜åŒ–å†å²ï¼š
- `models/parameter_history.json`
- `models/best_parameters.json`

## æ•…éšœæ’é™¤

### é—®é¢˜1: ä¼˜åŒ–æ—¶é—´è¿‡é•¿
**è§£å†³æ–¹æ¡ˆ**: å‡å°‘ `global_iterations` å’Œ `incremental_iterations` çš„å€¼

### é—®é¢˜2: ä¼˜åŒ–æ•ˆæœä¸ä½³
**è§£å†³æ–¹æ¡ˆ**: 
- å¢åŠ è¿­ä»£æ¬¡æ•°
- è°ƒæ•´æ”¶ç¼©æ¯”ä¾‹
- æ£€æŸ¥å‚æ•°æœç´¢èŒƒå›´é…ç½®

### é—®é¢˜3: å­˜å‚¨ç©ºé—´ä¸è¶³
**è§£å†³æ–¹æ¡ˆ**: 
- å‡å°‘ `max_history_records` çš„å€¼
- è®¾ç½® `enable_history: false`
- å®šæœŸæ¸…ç†å†å²è®°å½•æ–‡ä»¶

### é—®é¢˜4: é…ç½®ä¸ç”Ÿæ•ˆ
**è§£å†³æ–¹æ¡ˆ**: 
- æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
- é‡å¯ç¨‹åº
- æ£€æŸ¥æ—¥å¿—ä¸­çš„é…ç½®è¯»å–ä¿¡æ¯

---

## AIä¼˜åŒ–æ—¥å¿—åŠŸèƒ½

### æ¦‚è¿°

ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼ŒAIä¼˜åŒ–å™¨ç°åœ¨æä¾›äº†è¯¦ç»†çš„è¿›åº¦æ—¥å¿—åŠŸèƒ½ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå®æ—¶äº†è§£ä¼˜åŒ–è¿›åº¦ã€æ—¶é—´ä¼°ç®—å’Œä¼˜åŒ–æ•ˆæœã€‚

### æ—¥å¿—åŠŸèƒ½ç‰¹æ€§

#### 1. åŸºç¡€ä¼˜åŒ–è¿›åº¦æ—¥å¿—

**é˜¶æ®µæ ‡è¯†**:
- ğŸš€ å¼€å§‹AIç­–ç•¥å‚æ•°ä¼˜åŒ–
- ğŸ“Š é˜¶æ®µ1: è·å–åŸºå‡†ç­–ç•¥è¯†åˆ«ç»“æœ
- ğŸ”§ é˜¶æ®µ2: è®¾ç½®å›ºå®šå‚æ•°
- ğŸ“‹ é˜¶æ®µ3: é…ç½®å‚æ•°æœç´¢èŒƒå›´
- ğŸ”„ é˜¶æ®µ4: å¼€å§‹å‚æ•°ä¼˜åŒ–è¿­ä»£

**è¿›åº¦æ˜¾ç¤º**:
- ğŸ“Š è¿›åº¦ç™¾åˆ†æ¯”: æ¯10æ¬¡è¿­ä»£æ˜¾ç¤ºè¿›åº¦ï¼ˆ6.7%, 13.3%, 20.0%...ï¼‰
- â±ï¸ æ—¶é—´ç»Ÿè®¡: æ˜¾ç¤ºå·²ç”¨æ—¶é—´å’Œé¢„è®¡å‰©ä½™æ—¶é—´
- ğŸ† å®æ—¶æœ€ä½³å¾—åˆ†: æ˜¾ç¤ºå½“å‰æœ€ä½³å‚æ•°ç»„åˆçš„å¾—åˆ†
- ğŸ¯ å‚æ•°è¯¦æƒ…: æ˜¾ç¤ºå½“å‰æœ€ä½³å‚æ•°çš„å…·ä½“å€¼

**ç¤ºä¾‹è¾“å‡º**:
```
ğŸš€ å¼€å§‹AIç­–ç•¥å‚æ•°ä¼˜åŒ–
============================================================
ğŸ“Š é˜¶æ®µ1: è·å–åŸºå‡†ç­–ç•¥è¯†åˆ«ç»“æœ...
âœ… åŸºå‡†ç­–ç•¥è¯†åˆ«ç‚¹æ•°: 357
ğŸ”§ é˜¶æ®µ2: è®¾ç½®å›ºå®šå‚æ•°...
âœ… å›ºå®šå‚æ•°è®¾ç½®å®Œæˆ:
   - rise_threshold: 0.04
   - max_days: 20
ğŸ“‹ é˜¶æ®µ3: é…ç½®å‚æ•°æœç´¢èŒƒå›´...
âœ… å¯ä¼˜åŒ–å‚æ•°æœç´¢èŒƒå›´:
   - rsi_oversold_threshold: 25 - 35, æ­¥é•¿: 1
   - rsi_low_threshold: 35 - 45, æ­¥é•¿: 1
   ...
ğŸ“ˆ æ€»æœç´¢ç»„åˆæ•°: 1,045,440
ğŸ¯ ä½¿ç”¨éšæœºé‡‡æ ·ï¼Œæœ€å¤§è¿­ä»£æ¬¡æ•°: 150
ğŸ”„ é˜¶æ®µ4: å¼€å§‹å‚æ•°ä¼˜åŒ–è¿­ä»£...
--------------------------------------------------
ğŸ‰ å‘ç°æ›´å¥½çš„å‚æ•°ç»„åˆ (ç¬¬1æ¬¡æ”¹è¿›, è¿­ä»£1):
   ğŸ“ˆ å¾—åˆ†æå‡: 0.0000 â†’ 0.2597
   ğŸ”§ å‚æ•°è¯¦æƒ…:
      - RSIè¶…å–é˜ˆå€¼: 28
      - RSIä½å€¼é˜ˆå€¼: 41
      - æœ€ç»ˆç½®ä¿¡åº¦: 0.450
      - åŠ¨æ€è°ƒæ•´ç³»æ•°: 0.210
      - å¸‚åœºæƒ…ç»ªæƒé‡: 0.160
      - è¶‹åŠ¿å¼ºåº¦æƒé‡: 0.160
--------------------------------------------------
ğŸ“Š è¿›åº¦: 6.7% (10/150)
â±ï¸  å·²ç”¨æ—¶é—´: 8.9s, é¢„è®¡å‰©ä½™: 124.5s
ğŸ† å½“å‰æœ€ä½³å¾—åˆ†: 0.2597
ğŸ¯ å½“å‰æœ€ä½³å‚æ•°: RSIè¶…å–=28, RSIä½å€¼=41, ç½®ä¿¡åº¦=0.450
------------------------------
```

#### 2. åˆ†å±‚ä¼˜åŒ–è¯¦ç»†æ—¥å¿—

**å››å±‚ä¼˜åŒ–ç»“æ„**:
- ğŸ“Š ç¬¬ä¸€å±‚ï¼šç­–ç•¥å‚æ•°ä¼˜åŒ–
- ğŸ¤– ç¬¬äºŒå±‚ï¼šæ›´æ–°ç­–ç•¥å‚æ•°å¹¶å‡†å¤‡AIè®­ç»ƒ
- ğŸ”„ ç¬¬ä¸‰å±‚ï¼šæ—¶é—´åºåˆ—äº¤å‰éªŒè¯
- ğŸš€ ç¬¬å››å±‚ï¼šé«˜çº§ä¼˜åŒ–

**æ—¶é—´åˆ†é…ç»Ÿè®¡**:
```
ğŸ¯ åˆ†å±‚ä¼˜åŒ–å®Œæˆ!
============================================================
ğŸ“Š ä¼˜åŒ–ç»Ÿè®¡:
   - æ€»è€—æ—¶: 579.6ç§’
   - ç¬¬ä¸€å±‚è€—æ—¶: 139.1ç§’ (24.0%)
   - ç¬¬äºŒå±‚è€—æ—¶: 9.6ç§’ (1.6%)
   - ç¬¬ä¸‰å±‚è€—æ—¶: 287.6ç§’ (49.6%)
   - ç¬¬å››å±‚è€—æ—¶: 143.2ç§’ (24.7%)

ğŸ† æœ€ç»ˆç»“æœ:
   - äº¤å‰éªŒè¯å¾—åˆ†: 0.5363
   - é«˜çº§ä¼˜åŒ–å¾—åˆ†: 0.2597
   - æœ€ä½³å¾—åˆ†: 0.5363
   - é€‰æ‹©åŸºç¡€ä¼˜åŒ–ç»“æœ
```

#### 3. æ—¶é—´åºåˆ—äº¤å‰éªŒè¯æ—¥å¿—

**æŠ˜æ•°è¿›åº¦**:
```
ğŸ”„ å¼€å§‹æ—¶é—´åºåˆ—äº¤å‰éªŒè¯è¯„ä¼°
ğŸ“Š å°†æ•°æ®åˆ†ä¸º 5 æŠ˜è¿›è¡ŒéªŒè¯...
   ğŸ”„ ç¬¬1æŠ˜ï¼šè®­ç»ƒæ•°æ® 167 æ¡ï¼Œæµ‹è¯•æ•°æ® 100 æ¡
   âœ… ç¬¬1æŠ˜å¾—åˆ†: 0.5594
   ğŸ”„ ç¬¬2æŠ˜ï¼šè®­ç»ƒæ•°æ® 334 æ¡ï¼Œæµ‹è¯•æ•°æ® 100 æ¡
   âœ… ç¬¬2æŠ˜å¾—åˆ†: 0.2687
   â­ï¸ ç¬¬5æŠ˜ï¼šæµ‹è¯•æ•°æ®ä¸è¶³ï¼Œè·³è¿‡
ğŸ“Š äº¤å‰éªŒè¯å®Œæˆï¼Œå¹³å‡å¾—åˆ†: 0.5363 (å…±4æŠ˜)
```

#### 4. ä¼˜åŒ–å®Œæˆç»Ÿè®¡

**æœ€ç»ˆç»Ÿè®¡ä¿¡æ¯**:
```
ğŸ¯ AIç­–ç•¥å‚æ•°ä¼˜åŒ–å®Œæˆ!
============================================================
ğŸ“Š ä¼˜åŒ–ç»Ÿè®¡:
   - æ€»è¿­ä»£æ¬¡æ•°: 150
   - æ€»è€—æ—¶: 121.4ç§’
   - å¹³å‡æ¯æ¬¡è¿­ä»£: 0.810ç§’
   - æ”¹è¿›æ¬¡æ•°: 1
   - æœ€ç»ˆæœ€ä½³å¾—åˆ†: 0.2162

ğŸ† æœ€ç»ˆæœ€ä½³å‚æ•°:
   - rise_threshold: 0.0400
   - max_days: 20
   - rsi_oversold_threshold: 29
   - rsi_low_threshold: 40
   - final_threshold: 0.6000
   - dynamic_confidence_adjustment: 0.2500
   - market_sentiment_weight: 0.2400
   - trend_strength_weight: 0.1200
```

### æ—¥å¿—é…ç½®

#### æ—¥å¿—çº§åˆ«è®¾ç½®

åœ¨ `config/config.yaml` ä¸­é…ç½®æ—¥å¿—çº§åˆ«ï¼š

```yaml
logging:
  level: INFO  # è®¾ç½®ä¸ºINFOçº§åˆ«ä»¥æ˜¾ç¤ºè¯¦ç»†è¿›åº¦
  file: logs/ai_optimization.log
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
```

#### æ—¥å¿—æ–‡ä»¶ç®¡ç†

- **æ–‡ä»¶è·¯å¾„**: `logs/ai_optimization.log`
- **ç¼–ç æ ¼å¼**: UTF-8
- **è½®è½¬è®¾ç½®**: è‡ªåŠ¨è½®è½¬ï¼Œé¿å…æ–‡ä»¶è¿‡å¤§
- **å¤‡ä»½æ•°é‡**: ä¿ç•™5ä¸ªå¤‡ä»½æ–‡ä»¶

### ä½¿ç”¨ç¤ºä¾‹

#### æµ‹è¯•æ—¥å¿—åŠŸèƒ½

è¿è¡Œæµ‹è¯•è„šæœ¬æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼š

```bash
python test_ai_optimization_logs.py
```

#### è‡ªå®šä¹‰æ—¥å¿—é…ç½®

```python
import logging

# è®¾ç½®æ—¥å¿—é…ç½®
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('logs/ai_optimization.log', encoding='utf-8'),
        logging.StreamHandler(sys.stdout)
    ]
)
```

### æ—¥å¿—åŠŸèƒ½ä¼˜åŠ¿

1. **å®æ—¶è¿›åº¦**: ç”¨æˆ·å¯ä»¥å®æ—¶äº†è§£ä¼˜åŒ–è¿›åº¦å’Œé¢„è®¡å®Œæˆæ—¶é—´
2. **è¯¦ç»†ç»Ÿè®¡**: æä¾›å®Œæ•´çš„ä¼˜åŒ–ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ—¶é—´åˆ†é…å’Œæ€§èƒ½æŒ‡æ ‡
3. **é”™è¯¯è¿½è¸ª**: æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯å’Œå¼‚å¸¸å¤„ç†
4. **å¯è§†åŒ–**: ä½¿ç”¨emojiå’Œæ ¼å¼åŒ–è¾“å‡ºæå‡å¯è¯»æ€§
5. **è°ƒè¯•æ”¯æŒ**: è¯¦ç»†çš„å‚æ•°å˜åŒ–è®°å½•ï¼Œä¾¿äºè°ƒè¯•å’Œä¼˜åŒ–

### æ³¨æ„äº‹é¡¹

1. **æ—¥å¿—æ–‡ä»¶å¤§å°**: å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶ï¼Œé¿å…å ç”¨è¿‡å¤šç£ç›˜ç©ºé—´
2. **æ€§èƒ½å½±å“**: æ—¥å¿—è¾“å‡ºä¼šè½»å¾®å½±å“ä¼˜åŒ–æ€§èƒ½ï¼Œä½†å½±å“å¾ˆå°
3. **éšç§ä¿æŠ¤**: ç¡®ä¿æ—¥å¿—æ–‡ä»¶ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯
4. **ç‰ˆæœ¬å…¼å®¹**: æ—¥å¿—æ ¼å¼åœ¨ä¸åŒç‰ˆæœ¬é—´ä¿æŒå…¼å®¹æ€§
